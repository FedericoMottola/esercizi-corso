{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Utente\\\\OneDrive\\\\Desktop\\\\esercizi-corso\\\\Settimana10\\\\Giorno3\\\\netflix-router\\\\src\\\\components\\\\MovieList.jsx\",\n  _s = $RefreshSig$();\nimport { Component, useEffect, useState } from \"react\";\nimport { Row, Spinner } from \"react-bootstrap\";\nimport SingleMovie from \"./SingleMovie\";\nimport OMDB_URL from \"../helpers/omdbURL\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MovieList = props => {\n  _s();\n  const [searchResults, setSearchResults] = useState([]);\n  const [error, setError] = useState(false);\n  const fetchSearchResult = async () => {\n    try {\n      const response = await fetch(OMDB_URL + \"&s=\" + props.searchString);\n      if (response.ok) {\n        const data = await response.json();\n        if (data.Response === \"True\") {\n          setSearchResults(data.Search);\n          setError(false);\n        } else {\n          setError(true);\n        }\n      } else {\n        setError(true);\n        console.log(\"an error occurred\");\n      }\n    } catch (error) {\n      setError(true);\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    if (props.searchString) {\n      fetchSearchResult();\n    } else {\n      setSearchResults([]);\n      setError(true);\n    }\n  }, [props.searchString]);\n\n  // componentDidUpdate = async prevProps => {\n  //   if (prevProps.searchString !== this.props.searchString) {\n  //     if (this.props.searchString === \"\") {\n  //       this.setState({ error: false, searchResults: [] });\n  //     } else {\n  //       this.fetchSearchResult();\n  //     }\n  //   }\n  // };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: props.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"row-cols-1 row-cols-sm-2 row-cols-lg-4 row-cols-xl-6 mb-4 text-center\",\n      children: [props.loading ? [...Array(6).keys()].map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-container\",\n        children: /*#__PURE__*/_jsxDEV(Spinner, {\n          animation: \"border\",\n          variant: \"light\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this)\n      }, movie, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }, this)) : props.movies && props.movies.map(movie => /*#__PURE__*/_jsxDEV(SingleMovie, {\n        data: movie,\n        selectedMovieId: props.selectedMovieId,\n        changeSelectedMovieId: props.changeSelectedMovieId\n      }, movie.imdbID, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }, this)), searchResults.map(movie => /*#__PURE__*/_jsxDEV(SingleMovie, {\n        data: movie,\n        selectedMovieId: props.selectedMovieId,\n        changeSelectedMovieId: props.changeSelectedMovieId\n      }, movie.imdbID, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(MovieList, \"Xb7hwMJNyGBDdDVD9EJXveq6xKc=\");\n_c = MovieList;\nexport default MovieList;\nvar _c;\n$RefreshReg$(_c, \"MovieList\");","map":{"version":3,"names":["Component","useEffect","useState","Row","Spinner","SingleMovie","OMDB_URL","jsxDEV","_jsxDEV","Fragment","_Fragment","MovieList","props","_s","searchResults","setSearchResults","error","setError","fetchSearchResult","response","fetch","searchString","ok","data","json","Response","Search","console","log","children","title","fileName","_jsxFileName","lineNumber","columnNumber","className","loading","Array","keys","map","movie","animation","variant","movies","selectedMovieId","changeSelectedMovieId","imdbID","_c","$RefreshReg$"],"sources":["C:/Users/Utente/OneDrive/Desktop/esercizi-corso/Settimana10/Giorno3/netflix-router/src/components/MovieList.jsx"],"sourcesContent":["import { Component, useEffect, useState } from \"react\";\nimport { Row, Spinner } from \"react-bootstrap\";\nimport SingleMovie from \"./SingleMovie\";\nimport OMDB_URL from \"../helpers/omdbURL\";\n\nconst MovieList = props => {\n  const [searchResults, setSearchResults] = useState([]);\n  const [error, setError] = useState(false);\n\n  const fetchSearchResult = async () => {\n    try {\n      const response = await fetch(OMDB_URL + \"&s=\" + props.searchString);\n      if (response.ok) {\n        const data = await response.json();\n        if (data.Response === \"True\") {\n          setSearchResults(data.Search);\n          setError(false);\n        } else {\n          setError(true);\n        }\n      } else {\n        setError(true);\n        console.log(\"an error occurred\");\n      }\n    } catch (error) {\n      setError(true);\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    if (props.searchString) {\n      fetchSearchResult();\n    } else {\n      setSearchResults([]);\n      setError(true);\n    }\n  }, [props.searchString]);\n\n  // componentDidUpdate = async prevProps => {\n  //   if (prevProps.searchString !== this.props.searchString) {\n  //     if (this.props.searchString === \"\") {\n  //       this.setState({ error: false, searchResults: [] });\n  //     } else {\n  //       this.fetchSearchResult();\n  //     }\n  //   }\n  // };\n\n  return (\n    <>\n      <h4>{props.title}</h4>\n      <Row className=\"row-cols-1 row-cols-sm-2 row-cols-lg-4 row-cols-xl-6 mb-4 text-center\">\n        {props.loading\n          ? [...Array(6).keys()].map(movie => (\n              <div className=\"spinner-container\" key={movie}>\n                <Spinner animation=\"border\" variant=\"light\" />\n              </div>\n            ))\n          : props.movies &&\n            props.movies.map(movie => (\n              <SingleMovie\n                data={movie}\n                key={movie.imdbID}\n                selectedMovieId={props.selectedMovieId}\n                changeSelectedMovieId={props.changeSelectedMovieId}\n              />\n            ))}\n        {searchResults.map(movie => (\n          <SingleMovie\n            data={movie}\n            key={movie.imdbID}\n            selectedMovieId={props.selectedMovieId}\n            changeSelectedMovieId={props.changeSelectedMovieId}\n          />\n        ))}\n      </Row>\n    </>\n  );\n};\n\nexport default MovieList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}